class Carousel{id;carousel;parent;children;ui;slider;dots;activeItemIndex;autoplay;cooldown=!1;config={width:"100%",height:"100vh",navigation_mode:0,backdrop_opacity:0,autoplay:!0,autoplay_delay:4e3,press_cooldown:!0};constructor(t,s=this.config){try{const i=document.querySelector(`#${t}`),e=document.querySelectorAll(`#${t} > *`);let o="";e.forEach((t=>{o+=`<div class="carousel-item">${t.outerHTML}</div>`}));let a=`\n        <div class="carousel-ui">\n          <div class="navigation">\n            <span class="material-symbols-rounded slider slide-backward">arrow_back_ios_new</span>\n            <div class="dots"></div>\n            <span class="material-symbols-rounded slider slide-forward">arrow_forward_ios</span>\n          </div>\n        </div>\n        <div class="carousel-content">\n          ${o}\n        </div>\n      `;i.innerHTML=a,i.classList.add("carousel"),this.id=t,this.config={...this.config,...s},this.init()}catch(t){console.error(t)}}init(){this.carousel=document.getElementById(this.id),this.parent=document.querySelector(`#${this.id} .carousel-content`),this.children=document.querySelectorAll(`#${this.id} .carousel-item`),this.ui=document.querySelector(`#${this.id} .carousel-ui`),this.slider=document.querySelectorAll(`#${this.id} .slider`),this.dots=document.querySelector(`#${this.id} .carousel-ui .dots`),this.activeItemIndex=0,this.slider.forEach((t=>{t.addEventListener("click",(()=>{this.refreshCooldown()&&(t.classList.contains("slide-backward")?this.scrollToIndex(this.activeItemIndex-1):t.classList.contains("slide-forward")&&this.scrollToIndex(this.activeItemIndex+1))}))}));for(let t=0;t<this.children.length;t++)this.dots.innerHTML+=`<span data-index="${t}"></span>`;switch(this.dots=this.dots.querySelectorAll(".dots > *"),this.updateActiveDot(this.activeItemIndex),this.dots.forEach((t=>{t.addEventListener("click",(s=>{this.refreshCooldown()&&(t.classList.contains("active")||this.scrollToIndex(parseInt(t.dataset.index)))}))})),this.config.navigation_mode){case 1:this.ui.classList.add("mode-1");break;case 2:this.ui.classList.add("mode-2");break;case 3:this.ui.classList.add("mode-3");break;case 4:this.ui.classList.add("mode-4");break;case 5:this.ui.classList.add("mode-5"),this.config.autoplay=!0}this.carousel.style.width=this.config.width,this.carousel.style.height=`calc(${this.config.height} + 18px)`,this.ui.style.backgroundColor=`rgba(0, 0, 0, ${this.config.backdrop_opacity})`,this.config.autoplay&&this.refreshAutoplay()}refreshCooldown(){return!this.config.press_cooldown||!this.cooldown&&(this.cooldown=!0,setTimeout((()=>{this.cooldown=!1}),500),!0)}scrollToIndex(t){let s=this.children.length-1;this.activeItemIndex=t<0?s:t>s?0:t;let i=this.parent.getBoundingClientRect().width*this.activeItemIndex;this.parent.scrollTo(i,0),this.config.autoplay&&this.refreshAutoplay(),this.updateActiveDot(this.activeItemIndex)}refreshAutoplay(){clearInterval(this.autoplay),this.autoplay=setInterval((()=>{this.scrollToIndex(this.activeItemIndex+1)}),this.config.autoplay_delay)}updateActiveDot(t){this.dots.forEach((t=>{t.classList.remove("active")})),this.dots[t].classList.add("active")}}